import { PluginSimple, PluginWithOptions } from 'markdown-it';

interface ImgSizeOptions {
    /**
     * Whether the absent of width or height attribute must be set with `0`
     *
     * This behaves the same as obsidian
     *
     * 是否缺省的宽度或高度属性时必须设置为 `0`
     *
     * 这与 obsidian 的行为相同
     *
     * @default false
     */
    strict?: boolean;
}

/**
 * Fork and edited from https://github.com/tatsy/markdown-it-imsize/blob/master/lib/index.js
 */

declare const legacyImgSize: PluginSimple;

/**
 * Fork and edited from https://github.com/tatsy/markdown-it-imsize/blob/master/lib/index.js
 */

declare const imgSize: PluginWithOptions<ImgSizeOptions>;

interface MarkdownReference {
    href: string;
    title?: string;
}
interface ImgSizeEnv extends Record<any, any> {
    references?: Record<string, MarkdownReference>;
}

export { imgSize, legacyImgSize };
export type { ImgSizeEnv, ImgSizeOptions, MarkdownReference };
